{
  "info": {
    "name": "BatailleCoq API",
    "description": "Collection pour tester l'API BatailleCoq",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000/api",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "teamId",
      "value": "",
      "type": "string"
    },
    {
      "key": "tournamentId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"TestPlayer\",\n  \"email\": \"test@bataillecoq.re\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@bataillecoq.re\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Get Me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "me"]
            }
          }
        },
        {
          "name": "Link Account",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"game\": \"valorant\",\n  \"gameTag\": \"Player#9740\",\n  \"accountId\": \"riot_player123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/link-account",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "link-account"]
            }
          }
        }
      ]
    },
    {
      "name": "Teams",
      "item": [
        {
          "name": "Get All Teams",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/teams?game=valorant",
              "host": ["{{baseUrl}}"],
              "path": ["teams"],
              "query": [
                {
                  "key": "game",
                  "value": "valorant"
                }
              ]
            }
          }
        },
        {
          "name": "Get Team By ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/teams/{{teamId}}",
              "host": ["{{baseUrl}}"],
              "path": ["teams", "{{teamId}}"]
            }
          }
        },
        {
          "name": "Create Team",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Dream Team\",\n  \"game\": \"valorant\",\n  \"logo\": \"ðŸŽ®\",\n  \"description\": \"La meilleure Ã©quipe de la RÃ©union\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/teams",
              "host": ["{{baseUrl}}"],
              "path": ["teams"]
            }
          }
        },
        {
          "name": "Update Team",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Dream Team Updated\",\n  \"description\": \"Nouvelle description\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/teams/{{teamId}}",
              "host": ["{{baseUrl}}"],
              "path": ["teams", "{{teamId}}"]
            }
          }
        },
        {
          "name": "Add Player to Team",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"playerId\": \"{{userId}}\",\n  \"role\": \"Player\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/teams/{{teamId}}/players",
              "host": ["{{baseUrl}}"],
              "path": ["teams", "{{teamId}}", "players"]
            }
          }
        }
      ]
    },
    {
      "name": "Tournaments",
      "item": [
        {
          "name": "Get All Tournaments",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/tournaments?game=valorant&status=upcoming",
              "host": ["{{baseUrl}}"],
              "path": ["tournaments"],
              "query": [
                {
                  "key": "game",
                  "value": "valorant"
                },
                {
                  "key": "status",
                  "value": "upcoming"
                }
              ]
            }
          }
        },
        {
          "name": "Get Tournament By ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/tournaments/{{tournamentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["tournaments", "{{tournamentId}}"]
            }
          }
        },
        {
          "name": "Create Tournament (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Valorant Championship 2024\",\n  \"game\": \"valorant\",\n  \"description\": \"Tournoi majeur\",\n  \"startDate\": \"2024-07-01T10:00:00Z\",\n  \"endDate\": \"2024-07-15T20:00:00Z\",\n  \"maxTeams\": 16,\n  \"prizePool\": \"10000â‚¬\",\n  \"format\": \"Single Elimination\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/tournaments",
              "host": ["{{baseUrl}}"],
              "path": ["tournaments"]
            }
          }
        },
        {
          "name": "Register Team",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"teamId\": \"{{teamId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/tournaments/{{tournamentId}}/register",
              "host": ["{{baseUrl}}"],
              "path": ["tournaments", "{{tournamentId}}", "register"]
            }
          }
        },
        {
          "name": "Get Standings",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/tournaments/{{tournamentId}}/standings",
              "host": ["{{baseUrl}}"],
              "path": ["tournaments", "{{tournamentId}}", "standings"]
            }
          }
        }
      ]
    },
    {
      "name": "Players",
      "item": [
        {
          "name": "Get All Players",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/players?game=valorant",
              "host": ["{{baseUrl}}"],
              "path": ["players"],
              "query": [
                {
                  "key": "game",
                  "value": "valorant"
                }
              ]
            }
          }
        },
        {
          "name": "Get Player Stats",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/players/{{userId}}/stats/valorant",
              "host": ["{{baseUrl}}"],
              "path": ["players", "{{userId}}", "stats", "valorant"]
            }
          }
        },
        {
          "name": "Get Leaderboard",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/players/leaderboard/valorant",
              "host": ["{{baseUrl}}"],
              "path": ["players", "leaderboard", "valorant"]
            }
          }
        },
        {
          "name": "Sync Stats",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/players/{{userId}}/sync/valorant",
              "host": ["{{baseUrl}}"],
              "path": ["players", "{{userId}}", "sync", "valorant"]
            }
          }
        }
      ]
    },
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            }
          }
        }
      ]
    }
  ]
}
